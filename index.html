<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kickcoins - Fantasy Betting</title>
<style>
body { font-family: Arial, sans-serif; background: linear-gradient(135deg,#121212,#1a1a1a); color: #fff; margin:0; padding:0; }
header { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; background-color:#1a1a1a; box-shadow:0 2px 6px rgba(0,0,0,0.5); }
header h1 { font-size:1.5em; margin:0; }
header .account { display:flex; align-items:center; gap:15px; font-weight:bold; font-size:1em; }
header .account span.moneybag { display:inline-block; transform-origin:center; transition: transform 0.3s ease; }
.tabs { display:flex; background-color:#1a1a1a; }
.tab { flex:1; padding:10px; text-align:center; cursor:pointer; border-bottom:2px solid #121212; transition: all 0.2s; }
.tab:hover { background-color:#222; }
.tab.active { border-bottom:2px solid #00ff00; color:#00ff00; font-weight:bold; }
main { padding:20px; }
.card { background: linear-gradient(145deg,#1f1f1f,#292929); padding:15px; margin:10px 0; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.6); }
.prop { display:flex; justify-content:space-between; align-items:center; margin:10px 0; }
.prop input[type="number"] { width:60px; margin-left:10px; padding:3px; border-radius:5px; border:none; }
select { padding:5px; border-radius:5px; border:none; background:#222; color:#fff; }
button { padding:5px 12px; cursor:pointer; border:none; border-radius:8px; background:linear-gradient(to right,#00ff00,#009900); color:#000; font-weight:bold; transition: all 0.2s; }
button:hover { background:linear-gradient(to right,#00ff80,#00cc00); }
.green { color:#00ff00; font-weight:bold; }
.yellow { color:#ffff00; font-weight:bold; }
.orange { color:#ff9900; font-weight:bold; }
.red { color:#ff0000; font-weight:bold; }
table { width:100%; border-collapse:collapse; }
th, td { padding:8px; text-align:left; border-bottom:1px solid #333; }
.medal { width:20px; height:20px; vertical-align:middle; margin-right:5px; }
</style>
</head>
<body>

<header>
    <h1>Kickcoins âš½</h1>
    <div class="account" id="account-info">
        <span class="moneybag">ðŸ’°</span> <span id="total-balance">0</span> total | <span id="available-balance">0</span> available
    </div>
</header>

<div class="tabs">
    <div class="tab active" data-tab="vote">MVP Voting</div>
    <div class="tab" data-tab="bet">Betting</div>
    <div class="tab" data-tab="leaderboard">Leaderboards</div>
    <div class="tab" data-tab="admin">Admin</div>
</div>

<main>
    <!-- MVP Voting -->
    <div class="tab-content" id="vote-tab">
        <div class="card">
            <h2>Vote for MVP</h2>
            <label>1st Place:</label>
            <select id="vote1" disabled></select>
            <label>2nd Place:</label>
            <select id="vote2" disabled></select>
            <label>3rd Place:</label>
            <select id="vote3" disabled></select>
            <button id="submit-votes" disabled>Submit Votes</button>
        </div>
    </div>

    <!-- Betting -->
    <div class="tab-content" id="bet-tab" style="display:none;">
        <div class="card">
            <h2>Betting</h2>
            <div id="balance-display"></div>
            <label>Select Player:</label>
            <select id="player-select" disabled></select>
            <div id="props-container"></div>
            <button id="submit-bets" disabled>Place Bets</button>
        </div>
    </div>

    <!-- Leaderboards -->
    <div class="tab-content" id="leaderboard-tab" style="display:none;">
        <div class="card">
            <h2>MVP Leaderboard</h2>
            <table id="mvp-leaderboard">
                <thead><tr><th>Place</th><th>Player</th><th>Points</th></tr></thead>
                <tbody></tbody>
            </table>
        </div>
        <div class="card">
            <h2>Coin Leaderboard</h2>
            <table id="coin-leaderboard">
                <thead><tr><th>Place</th><th>Player</th><th>Coins</th></tr></thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- Admin -->
    <div class="tab-content" id="admin-tab" style="display:none;">
        <div class="card">
            <h2>Admin Controls</h2>
            <button id="start-match">Start Match</button>
            <button id="end-match" disabled>End Match</button>
            <div id="resolve-bets"></div>
        </div>
    </div>
</main>

<script>
// --- Tab switching ---
const tabs = document.querySelectorAll('.tab');
const tabContents = document.querySelectorAll('.tab-content');
tabs.forEach(tab => {
    tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        tabContents.forEach(c => c.style.display='none');
        document.getElementById(tab.dataset.tab+'-tab').style.display='block';
    });
});

// --- Account and persistence ---
let account = {name:"Erick", total:100, available:0};
if(localStorage.getItem('account')) account = JSON.parse(localStorage.getItem('account'));
const totalSpan = document.getElementById('total-balance');
const availSpan = document.getElementById('available-balance');
function updateAccountUI(){
    totalSpan.textContent = account.total;
    availSpan.textContent = account.available;
    document.querySelector('.moneybag').style.transform = `scale(${1+account.available/20})`;
    localStorage.setItem('account', JSON.stringify(account));
}
updateAccountUI();

// --- Players ---
const players = ["Erick","Yansy","Bernie","Erubial","Samir","Angel","Abel","Estress","Alan","Ace"];
const voteSelects = [document.getElementById('vote1'),document.getElementById('vote2'),document.getElementById('vote3')];
voteSelects.forEach(s=>{
    players.forEach(p=>{ let opt=document.createElement('option'); opt.value=p; opt.textContent=p; s.appendChild(opt); });
});

// --- Bets ---
const props = {
    "Erick":[{name:"Erick scores", odds:4},{name:"Erick assist", odds:3},{name:"Erick anything", odds:2}],
    "Yansy":[{name:"Yansy scores", odds:3},{name:"Yansy assist", odds:2}],
    // add other players here
};
let bets = JSON.parse(localStorage.getItem('bets')) || [];
const playerSelect = document.getElementById('player-select');
const propsContainer = document.getElementById('props-container');

players.forEach(p=>{
    let opt=document.createElement('option'); opt.value=p; opt.textContent=p; playerSelect.appendChild(opt);
});

playerSelect.addEventListener('change', ()=>{
    const player = playerSelect.value;
    propsContainer.innerHTML="";
        propsContainer.innerHTML="";
    if(!props[player]) return;
    props[player].forEach((propObj, index)=>{
        const div = document.createElement('div');
        div.className = 'prop';
        const label = document.createElement('span');
        label.textContent = `${propObj.name} (x${propObj.odds})`;
        const input = document.createElement('input');
        input.type = 'number';
        input.min = 0;
        input.max = 10;
        input.value = 0;
        input.dataset.odds = propObj.odds;
        div.appendChild(label);
        div.appendChild(input);
        propsContainer.appendChild(div);
    });
});

// --- Admin Controls ---
let matchActive = false;
const startBtn = document.getElementById('start-match');
const endBtn = document.getElementById('end-match');
startBtn.addEventListener('click', ()=>{
    if(matchActive) return;
    matchActive = true;
    account.available = Math.min(10, account.total); // set available per match
    updateAccountUI();
    voteSelects.forEach(s=>s.disabled=false);
    document.getElementById('submit-votes').disabled=false;
    playerSelect.disabled=false;
    document.getElementById('submit-bets').disabled=false;
    startBtn.disabled=true;
    endBtn.disabled=false;
});

endBtn.addEventListener('click', ()=>{
    if(!matchActive) return;
    matchActive = false;
    // resolve bets - in real usage, admin would mark yes/no for each
    bets.forEach(b=>{
        if(b.result==='win') account.total += b.amount * b.odds;
        else account.total -= b.amount;
    });
    account.available = 0;
    bets = [];
    localStorage.setItem('bets', JSON.stringify(bets));
    updateAccountUI();
    voteSelects.forEach(s=>s.disabled=true);
    document.getElementById('submit-votes').disabled=true;
    playerSelect.disabled=true;
    document.getElementById('submit-bets').disabled=true;
    startBtn.disabled=false;
    endBtn.disabled=true;
});

// --- Submit Votes ---
document.getElementById('submit-votes').addEventListener('click', ()=>{
    const selections = voteSelects.map(s=>s.value);
    if(new Set(selections).size !== selections.length){
        alert("Cannot vote for the same player more than once!");
        return;
    }
    // assign points: 1st=5,2nd=3,3rd=2
    const points = [5,3,2];
    selections.forEach((p,i)=>{
        let score = JSON.parse(localStorage.getItem('mvpScores')) || {};
        score[p] = (score[p]||0)+points[i];
        localStorage.setItem('mvpScores', JSON.stringify(score));
    });
    alert("Votes submitted!");
});

// --- Submit Bets ---
document.getElementById('submit-bets').addEventListener('click', ()=>{
    const selectedPlayer = playerSelect.value;
    const inputs = propsContainer.querySelectorAll('input');
    inputs.forEach(input=>{
        const amt = parseInt(input.value);
        if(amt>0 && amt <= account.available){
            bets.push({player:selectedPlayer, prop:input.previousSibling.textContent, amount:amt, odds:parseInt(input.dataset.odds), account:account.name, result:null});
            account.available -= amt;
        }
    });
    localStorage.setItem('bets', JSON.stringify(bets));
    updateAccountUI();
    alert("Bets placed!");
});
</script>

</body>
</html>
